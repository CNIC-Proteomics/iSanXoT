---
commands:

###################
# COMMAND TEMPLATE 
# Description: 
- name: CREATE_ID
  description: Create the structure of ID for iSanXoT
  rules:
  - name: createID
    infiles:
      -t: __MAIN_INPUTS_DATFILE_MAIN_INPUTS__
    outfiles:        
      -x: __MAIN_INPUTS_EXPDIR__/__WF_EXPERIMENT__/ID.tsv
    parameters:
      outdir:
        -o: __MAIN_INPUTS_EXPDIR__
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/preSanXoT/createID.py" -w __NCPU__ __WF_VERBOSE__'
###################



###################
# COMMAND TEMPLATE 
# Description:
- name: FDR
  description: Calculation of FDR
  rules:
  - name: fdr
    infiles:
      -i: __MAIN_INPUTS_EXPDIR__/__WF_EXPERIMENT__/ID.tsv
    outfiles:
      -o: __MAIN_INPUTS_EXPDIR__/__WF_EXPERIMENT__/ID-fdr.tsv
    parameters:
      threshold:
        -t: 15
      jump_areas:
        -j: 5
      lab_decoy:
        -l: ''
      fdr:
        -f: 0.01
      type_xcorr:
        -x: cXCorr
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/preSanXoT/fdr.py" -w __NCPU__ __WF_VERBOSE__ '
###################



###################
# COMMAND TEMPLATE 
# Description: 
- name: MASTERQ
  description: Calculation of Master Protein
  rules:
  - name: masterq
    infiles:
      -ii: __MAIN_INPUTS_EXPDIR__/__WF_EXPERIMENT__/ID-fdr.tsv
    outfiles:
      -o: __MAIN_INPUTS_EXPDIR__/ID-mq.tsv
    parameters:
      dbfile:
        -d: __MAIN_INPUTS_DBFILE__
      pretxt:
        -p: sp
      lab_decoy:
        -l: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/preSanXoT/masterQ.py" -w __NCPU__ __WF_VERBOSE__ '
###################



###################
# COMMAND TEMPLATE 
# Description:
- name: RELS_TABLE_SPEC
  description: Specific command that creates the relationship table of scan2peptide, peptide2protein
  rules:
  - name: rels_table
    infiles:
      -ii: __MAIN_INPUTS_EXPDIR__/__WF_INPUT__.tsv
    outfiles:
      -o: __MAIN_INPUTS_RELDIR__/__WF_OUTPUT__.tsv
    parameters:
      inf_header:
        -i: ''
      sup_header:
        -j: ''
      3rd_header:
        -k: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/preSanXoT/createRels.py" __WF_VERBOSE__ '
###################



###################
# COMMAND TEMPLATE 
# Description:
- name: RELS_TABLE
  description: Command that creates a table of relationship
  rules:
  - name: rels_table
    infiles:
      -ii: __MAIN_INPUTS_OUTDIR__/__WF_INPUT__
    outfiles:
      -o: __MAIN_INPUTS_RELDIR__/__WF_OUTPUT__.tsv
    parameters:
      inf_header:
        -i: ''
      sup_header:
        -j: ''
      3rd_header:
        -k: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/preSanXoT/createRels.py" __WF_VERBOSE__ '
###################



###################
# COMMAND TEMPLATE 
# Description: 
- name: RATIOS_WSPP
  description: Calculation of ratios
  rules:
  - name: ratios
    infiles:
      -i: __MAIN_INPUTS_EXPDIR__/ID-mq.tsv
    outfiles:
      -o: __MAIN_INPUTS_EXPDIR__/ID-q.tsv
    parameters:
      datfile:
        -t: __MAIN_INPUTS_DATFILE_STATS_QUANTIFICATION__
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/preSanXoT/ratios.py" -w __NCPU__ __WF_VERBOSE__ '
###################



###################
# COMMAND TEMPLATE 
# Description: 
- name: WSPP_SBT
  description: Calculation of WSPP and SBT (Systems Biology Triangle)
  rules:

  # Rule: aljamia + klibrate  ---
  - name: wspp_aljamia
    infiles:
      -x: __MAIN_INPUTS_EXPDIR__/ID-q.tsv
    outfiles:
      -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/u_scan.tsv
    parameters:
      tags:
        -i: "[Spectrum_File]-[Scan]-[Charge]"
        -j: "[Xs___WF_RATIO_NUM___vs___WF_RATIO_DEN___Mean]"
        -k: "[Vs___WF_RATIO_NUM___vs___WF_RATIO_DEN___Mean]"
        -f: "[Experiment]==__WF_EXPERIMENT__"
        -e: "0,1,2"
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/aljamia.py" '
  - name: wspp_klibrate
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/u_scan.tsv
      -r: __MAIN_INPUTS_RELDIR__/scan2peptide.tsv
    outfiles:
      -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/scan.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/scan_variance.txt
    parameters:
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/klibrate.py" -a scan -g '

  # Rule: scan2peptide ---
  - name: wspp_s2p_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/scan.tsv
      -r: __MAIN_INPUTS_RELDIR__/scan2peptide.tsv
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/s2p_outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/s2p_variance.txt
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -a s2p -g -b -s '
  - name: wspp_s2p_sanxotsieve
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/scan.tsv
      -r: __MAIN_INPUTS_RELDIR__/scan2peptide.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/s2p_variance.txt
    outfiles:
      -n: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/s2p_tagged.tsv
    parameters:
      s>p_FDR:
        -f: 0.01
      s>p_Var(x):
        -v: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxotsieve.py" -a s2p '
  - name: wspp_s2p_sanxot2
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/scan.tsv
      -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/s2p_tagged.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/s2p_variance.txt
    outfiles:
      -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/peptide.tsv
    parameters:
      s>p_Var(x):
        -v: ''
      s>p_Tag:
        --tags: '!out'
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -a s2p -g -f '

  # Rule: peptide2protein ---
  - name: wspp_p2q_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/peptide.tsv
      -r: __MAIN_INPUTS_RELDIR__/peptide2protein.tsv
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2q_outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2q_variance.txt
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -a p2q -g -b -s '
  - name: wspp_p2q_sanxotsieve
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/peptide.tsv
      -r: __MAIN_INPUTS_RELDIR__/peptide2protein.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2q_variance.txt
    outfiles:
      -n: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2q_tagged.tsv
    parameters:
      p>q_FDR:
        -f: 0.01
      p>q_Var(x):
        -v: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxotsieve.py" -a p2q '
  - name: wspp_p2q_sanxot2
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/peptide.tsv
      -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2q_tagged.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2q_variance.txt
    outfiles:
      -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/protein.tsv
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2q_lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2q_lowerNormV.tsv
    parameters:
      p>q_Var(x):
        -v: ''
      p>q_Tag:
        --tags: '!out'
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -a p2q -g -f '

  # Rule: protein2category ---
  - name: wspp_q2c_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/protein.tsv
      -r: __MAIN_INPUTS_CATFILE__
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2c_outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2c_variance.txt
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -a q2c -g -b -s '
  - name: wspp_q2c_sanxotsieve
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/protein.tsv
      -r: __MAIN_INPUTS_CATFILE__
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2c_variance.txt
    outfiles:
      -n: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2c_tagged.tsv
    parameters:
      q>c_FDR:
        -f: 0.01
      q>c_Var(x):
        -v: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxotsieve.py" -a q2c '
  - name: wspp_q2c_sanxot2
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/protein.tsv
      -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2c_tagged.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2c_variance.txt
    outfiles:
      -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/category.tsv
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2c_lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2c_lowerNormV.tsv
    parameters:
      q>c_Var(x):
        -v: ''
      q>c_Tag:
        --tags: '!out'
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -a q2c -g -f '

  # Rule: everything2all ---
  - name: wspp_p2a_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/peptide.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2q_variance.txt
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2a_outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2a_variance.txt
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2a_lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/p2a_lowerNormV.tsv
    parameters:
      p>a_Var(x):
        -v: ''
      p>a_Tag:
        --tags: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -a p2a -C -g '
  - name: wspp_q2a_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/protein.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2c_variance.txt
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2a_outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2a_variance.txt
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2a_lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2a_lowerNormV.tsv
    parameters:
      q>a_Var(x):
        -v: ''
      q>a_Tag:
        --tags: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -a q2a -C -g '
  - name: wspp_c2a_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/category.tsv
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/c2a_outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/c2a_variance.txt
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/c2a_lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/c2a_lowerNormV.tsv
    parameters:
      c>a_Var(x):
        -v: 0
      c>a_Tag:
        --tags: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -a c2a -C -g -f '
###################



###################
# COMMAND TEMPLATE 
# Description: 
- name: COMBINE
  description: Combine experiments
  rules:

  # Rule: create a file with the list of experiments/tags ---
  - name: create_exp_tags
    infiles:
      -ii: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/**/__WF_LEVEL__2__WF_NORM___lowerNormV.tsv
    outfiles:
      -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___tags.tsv
    parameters:
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/createCardenioTags.py" '

  # Rule: cardenio ---
  - name: cardenio
    infiles:
      -t: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___tags.tsv
    outfiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___combData.tsv
      -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___combRels.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___combLog.txt
    parameters:
      level:
        -a: 'comb'
      outdir:
        -p: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/cardenio.py" '

    # Rule: sanxot integration: obtaining integrated X and V values ---
  - name: comb_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___combData.tsv
      -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___combRels.tsv
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___variance.txt
    parameters:
      level:
        -a: 'comb'
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -g -b -s '
  - name: comb_sanxotsieve
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___combData.tsv
      -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___combRels.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___variance.txt
    outfiles:
      -n: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___tagged.tsv
    parameters:
      level:
        -a: 'comb'
      FDR:
        -f: 0.01
      Var(x):
        -v: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxotsieve.py" '
  - name: comb_sanxot2
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___combData.tsv
      -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___tagged.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___variance.txt
    outfiles:
      -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__.tsv
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__2__WF_NORM___lowerNormV.tsv
    parameters:
      level:
        -a: 'comb'
      Var(x):
        -v: ''
      Tag:
        --tags: '!out'
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -g -f '

###################




###################
# COMMAND TEMPLATE 
# Description:
- name: RATIOS_INT
  description: Calculate the ratios and integrate
  rules:

    # Rule: calcultate ratios ---
  - name: calculate_ratios
    infiles:
      -i: __MAIN_INPUTS_NAMDIR__/__WF_RATIO_NUM__/**/__WF_LEVEL__.tsv
      -s: __MAIN_INPUTS_NAMDIR__/__WF_RATIO_DEN__/**/__WF_LEVEL__.tsv
    outfiles:
      -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LEVEL__.tsv
    parameters:
      v_method:
        -v: 'max'
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/calculateRatios.py" '

###################




###################
# COMMAND TEMPLATE 
# Description:
- name: INTEGRATE
  description: Integration
  rules:

    # Rule: sanxot integration: obtain integrated Z and FDR values ---
  - name: int_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_LOW_LEVEL__.tsv
      -r: __MAIN_INPUTS_RELDIR__/__WF_LOW_LEVEL__2__WF_HIG_LEVEL__.tsv
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___variance.txt
    parameters:
      sup_level:
        -a: 'wspp'
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -g -b -s '
  - name: int_sanxotsieve
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_LOW_LEVEL__.tsv
      -r: __MAIN_INPUTS_RELDIR__/__WF_LOW_LEVEL__2__WF_HIG_LEVEL__.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___variance.txt
    outfiles:
      -n: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___tagged.tsv
    parameters:
      sup_level:
        -a: 'wspp'
      FDR:
        -f: 0.01
      Var(x):
        -v: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxotsieve.py" '
  - name: int_sanxot2
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_LOW_LEVEL__.tsv
      -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___tagged.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___variance.txt
    outfiles:
      -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL__.tsv
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___lowerNormV.tsv
    parameters:
      sup_level:
        -a: 'wspp'
      Var(x):
        -v: ''
      Tag:
        --tags: '!out'
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -g -f '

###################



###################
# COMMAND TEMPLATE 
# Description:
- name: SBT
  description: System Biology Triangle
  rules:

    # Rule: sanxot integration: lower to intermediate ---
  - name: sbt_l2i_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_LOW_LEVEL__.tsv
      -r: __WF_REL_TABLE__
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_INT_LEVEL___outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_INT_LEVEL___variance.txt
    parameters:
      anal:
        -a: __WF_LOW_LEVEL__2__WF_INT_LEVEL__
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -g -b -s '
  - name: sbt_l2i_sanxot2
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_LOW_LEVEL__.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_INT_LEVEL___variance.txt
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LOW_LEVEL__2__WF_INT_LEVEL___outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LOW_LEVEL__2__WF_INT_LEVEL___variance.txt
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LOW_LEVEL__2__WF_INT_LEVEL___lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LOW_LEVEL__2__WF_INT_LEVEL___lowerNormV.tsv
    parameters:
      anal:
        -a: __WF_LOW_LEVEL__2__WF_INT_LEVEL__
      l>i_Var(x):
        -v: ''
      l>i_Tag:
        --tags: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -C -g '

    # Rule: sanxot integration: intermediate to higher ---
  - name: sbt_i2h_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_INT_LEVEL__.tsv
      -r: __WF_REL_TABLE__
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___variance.txt
    parameters:
      anal:
        -a: __WF_INT_LEVEL__2__WF_HIG_LEVEL__
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -g -b -s '
  - name: sbt_i2h_sanxot2
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_INT_LEVEL__.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___variance.txt
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_INT_LEVEL__2__WF_HIG_LEVEL___outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_INT_LEVEL__2__WF_HIG_LEVEL___variance.txt
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_INT_LEVEL__2__WF_HIG_LEVEL___lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_INT_LEVEL__2__WF_HIG_LEVEL___lowerNormV.tsv
    parameters:
      anal:
        -a: __WF_INT_LEVEL__2__WF_HIG_LEVEL__
      i>h_Var(x):
        -v: ''
      i>h_Tag:
        --tags: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -C -g '

    # Rule: sanxot integration: lower to higher ---
  - name: sbt_l2h_sanxot1
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_LOW_LEVEL__.tsv
      -r: __WF_REL_TABLE__
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___variance.txt
    parameters:
      anal:
        -a: __WF_LOW_LEVEL__2__WF_HIG_LEVEL__
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -g -b -s '
  - name: sbt_l2h_sanxot2
    infiles:
      -d: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_LOW_LEVEL__.tsv
      -V: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_HIG_LEVEL___variance.txt
    outfiles:
      -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LOW_LEVEL__2__WF_HIG_LEVEL___outStats.tsv
      -L: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LOW_LEVEL__2__WF_HIG_LEVEL___variance.txt
      -u: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LOW_LEVEL__2__WF_HIG_LEVEL___lowerNormW.tsv
      -U: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/__WF_LOW_LEVEL__2__WF_HIG_LEVEL___lowerNormV.tsv
    parameters:
      anal:
        -a: __WF_LOW_LEVEL__2__WF_HIG_LEVEL__
      a1_Var(x):
        -v: ''
      a1_Tag:
        --tags: ''
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxot.py" -C -g '

###################





# ###################
# # COMMAND TEMPLATE 
# # Description: 
# - name: SBT_GAUSS
#   description: Combine SanXoTSqueezer and SanXoTGauss, SanXoTSqueezer used mainly to find which categories contain a determined number of proteins that are changing more than an FDR set by the user. SanXoTGauss depicts the sigmoids of lower level elements compared to their higher levels.
#   rules:
#   - name: sanxot_squeezer
#     infiles:
#       -l: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_LOW_LEVEL___outStats.tsv
#       -u: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/__WF_HIG_LEVEL___outStats.tsv
#     outfiles:
#       -o: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/cat_list.tsv
#     parameters:
#       outdir:
#         -p: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__
#       FDR:
#         -f: 0.05
#       minelements:
#         -n: 2
#     more_params: ''
#     cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxotsqueezer.py" -a squeezed '
#   - name: sanxot_gauss
#     infiles:
#       -z: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/q2a_outStats.tsv
#       -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/wspp_tagged.tsv
#       -c: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/cat_list.tsv
#     outfiles:
#       -d: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/comb_dat.tsv
#       -r: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__/comb_rel.tsv
#     parameters:
#       outdir:
#         -p: __MAIN_INPUTS_NAMDIR__/__WF_OUTPUT__
#       graphdpi:
#         -d: 1000
#       graphfontsize:
#         -s: 5
#     more_params: ''
#     cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/SanXoT/sanxotgauss.py" -a sigmoids -g '
# ###################



###################
# COMMAND TEMPLATE 
# Description: 
- name: REPORT
  description: Retrieve the reports
  rules:
  - name: report
    infiles:
      -ii: __MAIN_INPUTS_NAMDIR__/__WF_INPUT__/**/__WF_LOW_LEVEL__2__WF_HIG_LEVEL___outStats.tsv
      # optional input file
      --rep_file: '' 
    outfiles:
      -o: __MAIN_INPUTS_RSTDIR__/__WF_OUTPUT__.tsv
    parameters:
      level:
        -l: __WF_LOW_LEVEL__2__WF_HIG_LEVEL__
      vars:
        -v: __WF_REPORTED_VARS__
    more_params: ''
    cline: '"__ISANXOT_PYTHON_EXEC__" "__ISANXOT_SRC_HOME__/src/preSanXoT/reporter.py" __WF_VERBOSE__ '
###################
