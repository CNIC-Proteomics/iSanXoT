{
  "id": "cnic_close_input_comet",
  "label": "CNIC Specific Adaptor for Comet",
  "sdesc": "<p><i>Input from Comet</i>.</p>",
  "description": "Long description for the adaptor.",
  "works": [{
    "id": "inputs",
    "label": "Adaptor",
    "description": "Short description for the current work (tab)",
    "cmds": ["CREATE_IDQUANT", "FDR", "JOINER_FDR", "PROTEIN_ASSIGNER"]
  }],
  "commands": [{
    "id": "CREATE_IDQUANT",
    "label": "Files from Comet",
    "title": "Provide input files from Comet",
    "visible": true,
    "panel_adp": "cnic_close_input_comet/panels/inputs.html",
    "help_adp": "cnic_close_input_comet/hmodals/inputs.html",
    "tasktable": {
      "file": "create_idquant_comet.tsv",
      "unique_exec": true,
      "params": [
        { "type": "required", "id": "infile", "name": "Identification file" },
        { "type": "required", "id": "experiment", "name": "Experiment" },
        { "type": "optional", "id": "mzfile", "name": "Quantification File (in mzML format)" },
        { "type": "optional", "id": "quan_method", "name": "Quan Method" }
    ]}
  },{
    "id": "FDR",
    "label": "FDR",
    "title": "FDR calculation",
    "sdesc": "FDR calculation.",
    "visible": true,
    "panel_adp": "cnic_close_input_comet/panels/simple.html",
    "help_adp": "cnic_close_input_comet/hmodals/fdr.html",
    "tasktable": {
      "file": "fdr_comet.tsv",
      "params": [
        { "type": "required", "id": "force", "name": "F. exec.", "checkbox": ["",1] },
        { "type": "required", "id": "experiment", "name": "Experiment" },
        { "type": "required", "id": "threshold", "name": "Threshold (ppm)" },
        { "type": "required", "id": "jump_areas", "name": "Isotopologue recovery" },
        { "type": "required", "id": "fdr", "name": "FDR cutoff" },
        { "type": "required", "id": "type_xcorr", "name": "Score", "dropdown": ["XCorr","cXCorr","hyperscore"] },
        { "type": "required", "id": "lab_decoy", "name": "Decoy label" }
    ]}
  },{
    "id": "JOINER_FDR",
    "label": "JOINER",
    "sdesc": "Concatenate all fdr tables in one",
    "visible": false
  },{
    "id": "PROTEIN_ASSIGNER",
    "label": "Protein Assigner",
    "title": "Select the most probable protein",
    "sdesc": "Calculate most probable protein assigned to each PSM.",
    "visible": true,
    "panel_adp": "cnic_close_input_comet/panels/simple-toggle.html",
    "help_adp": "cnic_close_input_comet/hmodals/passigner.html",
    "tasktable": {
      "file": "protein_assigner_comet.tsv",
      "params": [
        { "type": "required", "id": "force", "name": "F. exec.", "checkbox": ["",1] },
        { "type": "required", "id": "peptide_col", "name": "Peptide column header" },
        { "type": "required", "id": "protein_col", "name": "Protein column header" },
        { "type": "required", "id": "output_col", "name": "Output Protein column header" },
        { "type": "optional", "id": "prot_sep", "name": "Protein separator" },
        { "type": "optional", "id": "prot_desc_col", "name": "Prot. Description column header" },
        { "type": "optional", "id": "output_desc_col", "name": "Output Prot. Desc. column header" }
    ]}
},{
    "id": "GET_IDSTATS",
    "label": "GET_IDSTATS",
    "sdesc": "Get the statistics of ID table",
    "visible": false
  }]
}